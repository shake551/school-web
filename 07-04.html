<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="jp270405060706010405141631727satxebsyhs7">
<title>JavaScript入門7</title>
<script type="text/javascript">
  function init(){
    var elmOmi = document.getElementById( "omi" );
    //マウスポインタが乗ったときのイベントハンドラの登録　　    　　  //
    elmOmi.addEventListener("mouseover", getLuck, false);
    //マウスポインタが外れたときのイベントハンドラの登録　　    　　  //
    elmOmi.addEventListener("mouseout", clearLuck, false);
  }
  function getLuck(){
    var elm = document.getElementById( "un" );
    var luck = Math.floor(Math.random()*100)/100;
    if( luck > 0.5 ){
      elm.innerText = "大吉("+luck+")";
    } else {
      elm.innerText = "小吉("+luck+")";
    }
  }
  function clearLuck(){
    var elm = document.getElementById( "un" );
    elm.innerText = "ナイショ";
  }
</script>
</head>
<body onLoad="init()">
<h1 id="omi">おみくじ</h1>
<p>今日の運勢は
<span id="un">ナイショ</span>
です</p>
</body>
</html>

