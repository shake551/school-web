<!DOCTYPE HTML>
<html lang="ja-JP">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="jp270405061207010710141435757satxebsyhs7">
<title>HTML5 canvas入門</title>
<style type="text/css">
  canvas { background-color: #E0E0E0; }
</style>
<script src="jquery-1.12.4.min.js"></script>
<script type="text/javascript">
  var canvas;
  var ctx;
  $(function(){
    canvas = $("#myCanvas")[0];
    ctx = canvas.getContext('2d');
    $("#drawCanvasBtn").click( drawCanvas );
    $("#clearCanvasBtn").click( clearCanvas );
  });
  //コードが複雑になるので座標の指定は実数を許す　　    　　  //
  function drawCanvas(){
    var cx = 200;
    var cy = 200;
    var r = 200;
    var ang = 0;
    var i;
    ctx.beginPath();
    for (i = 0; i<40; i++) {
      ctx.arc( cx, cy, r, ang, ang+Math.PI/2, false );
      if( i % 4 == 0 ){
        //左下描画用の計算　　    　　  //
        cy = cy + r * 0.1;
      } else if( i%4 == 1 ){
        //左上描画用の計算　　    　　  //
        cx = cx - r * 0.1;
      } else if( i%4 == 2 ){
        //右上描画用の計算　　    　　  //
        cy = cy - r * 0.1;
      } else {
        //右下描画用の計算　　    　　  //
        cx = cx + r * 0.1;
      }
      r = r * 0.9;
      ang = ang + Math.PI/2;
    }
    ctx.stroke();
  }
  function clearCanvas(){
    ctx.clearRect( 0, 0, 400, 400 );
  }
</script>
</head>
<body>
<canvas id="myCanvas" width="400" height="400"></canvas>
<br/>
<input id="drawCanvasBtn" type="button" value="描画">
<input id="clearCanvasBtn" type="button" value="クリア">
</body>
</html>

