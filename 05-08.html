<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="jp270405060505010819141035946satxebsyhs7">
<title>JavaScript入門5</title>
<script type="text/javascript">
  function mile2kiro(x){
    var elmMile = document.getElementById("mile");
    var elmKiro = document.getElementById("kiro");
    if( x == 1 ){
      var mile = Number(elmMile.value);
      //未入力，非数値，負値の順でチェックする　　    　　  //
      if( elmMile.value == "" || isNaN(elmMile.value) || mile < 0 ){
        alert( "非負の数値を入力して下さい" );
        return;
      }
      elmKiro.value = Math.floor(mile*1.609*100 + 0.5) / 100;
    } else {
      var kiro = Number(elmKiro.value);
      //未入力，非数値，負値の順でチェックする　　    　　  //
      if( elmKiro.value == "" || isNaN(elmKiro.value) || kiro < 0 ){
        alert( "非負の数値を入力して下さい" );
        return;
      }
      elmMile.value = Math.floor(kiro/1.609*100 + 0.5) / 100;
    }
  }
  function boxClear(){
    var elmMile = document.getElementById("mile");
    var elmKiro = document.getElementById("kiro");
    elmMile.value = "";
    elmKiro.value = "";
  }
</script>
</head>
<body>
<h1>マイル⇔キロメートル</h1>
<input id="mile" type="text"/>マイル<br/>
<input onClick="mile2kiro(1)" type="button" value="↓"/>
<input onClick="mile2kiro(0)" type="button" value="↑"/><br/>
<input id="kiro" type="text"/>キロメートル<br/>
<input onClick="boxClear()" type="button" value="クリア"/>
</body>
</html>

