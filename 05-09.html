<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="jp270405060505010919141130852satxebsyhs7">
<title>JavaScript入門5</title>
<script type="text/javascript">
  function calMinMaxAveVar(){
    var elmData = document.getElementById("data");
    var data = elmData.value.split(",");
    var sum=0, min, max, i;
    for( i = 0; i < data.length; i ++ ){
      // 空文字列，非数値の順でチェックする　　    　　  //
      if( data[i] == "" || isNaN(data[i]) ){
        alert( "数値をカンマで区切って入力して下さい" );
        return;
      }
      data[i] = Number( data[i] );
      if( i == 0 || max < data[i] ){
        max = data[i];
      }
      if( i == 0 || min > data[i] ){
        min = data[i];
      }
      sum += data[i];
    }
    var ave = sum / data.length;
    sum = 0;
    for( i = 0; i < data.length; i ++ ){
      sum += (data[i] - ave) * (data[i] - ave);
    }
    var vari = sum / data.length;
    var elmAns = document.getElementById("ans");
    elmAns.innerText = "最大値は" + max + ", 最小値は" + min + ", 平均は" + ave + ", 分散は" + vari;
  }
</script>
</head>
<body>
<h1>最大値・最小値・分散</h1>
<p>半角カンマ区切で入力して下さい<br/>
data: <input id="data" type="text"/><br/>
<input onClick="calMinMaxAveVar()" type="button" value="計算"/>
<p id="ans"></p>
</body>
</html>

